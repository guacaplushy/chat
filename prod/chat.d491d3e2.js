(()=>{"use strict";function e(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n(n){var t="true"===n.sys,s=t?"sys_":"",i="";t||(i+='<div><b id="username">'.concat(e(n.user),"</b>")),i+='<br>&emsp;&emsp;<b id="'.concat(s,'msg">').concat(e(n.message),"</b></div>"),document.getElementById("message-container").innerHTML+=i}window.sendMessage=function(){var e=document.getElementById("message").value;if(user&&""===e||" "===e)return alert("Message cannot be blank...");window.socket.emit("msg",{message:e,user}),document.getElementById("message").value=""},window.socket.on("addChatMsgs",(function(e){e.forEach((function(e){n(e)}))})),window.socket.on("newmsg",(function(e){window.user&&(!function(){var e=document.getElementById("message-container").innerHTML;if(10===e.split("<div>").length){var n=e.split("<div>");n.shift(),n.shift(),document.getElementById("message-container").innerHTML="<div>"+n.join("<div>")}}(),n(e))})),window.socket.on("addChatHTML",(function(e){document.body.innerHTML=e,window.socket.emit("join_msg",user)}))})();